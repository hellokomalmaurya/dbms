<HTML>
    <head></head>
    <body>
        <h2>SQL Subqueries</h2>
        <p>An SQL <b>Subquery</b>, is a SELECT query within another query. It is also known as <b>Inner</b> query or <b>Nested</b> query and the query containing it is the outer query.
            <br>
            The outer query can contain the SELECT, INSERT, UPDATE, and DELETE statements. We can use the subquery as a column expression, as a condition in SQL clauses, and with operators like =, >, <, >=, <=, IN, BETWEEN, etc.</p>
            <h3>Rules to be followed</h3>
            <ul style="background-color: rgb(250, 249, 215);">
                <li>Subqueries must be enclosed within parentheses.</li>
                <li>Subqueries can be nested within another subquery.</li>
                <li>A subquery must contain the SELECT query and the FROM clause always.</li>
                <li>A subquery consists of all the clauses an ordinary SELECT clause can contain: GROUP BY, WHERE, HAVING, DISTINCT, TOP/LIMIT,<br>
                    etc. However, an ORDER BY clause is only used when a TOP clause is specified. It can't include COMPUTE or FOR BROWSE clause.</li>
                <li>A subquery can return a single value, a single row, a single column, or a whole table. They are called scalar subqueries.</li>
            </ul>
            <h2>Subqueries with the SELECT Statement</h2>
            Subqueries are most frequently used with the SELECT statement. The basic syntax is as follows:<br>
            <pre>SELECT column_name [, column_name ] 
                FROM table1 [, table2 ] 
                WHERE  column_name 
                OPERATOR (SELECT column_name [,column_name ] FROM table1 [, table2 ] [WHERE]);</pre>
            <h3>Example</h3>
            In the following query, we are creating a table named <b>CUSTOMERS</b>:<br>
            <pre>CREATE TABLE CUSTOMERS (
                ID INT NOT NULL,
                NAME VARCHAR(20) NOT NULL,
                AGE INT NOT NULL,
                ADDRESS CHAR (25),
                SALARY DECIMAL (18, 2),
                PRIMARY KEY (ID)
             );</pre>
             Here, we are inserting records into the above-created table using INSERT INTO statement:<br>
             <pre>INSERT INTO CUSTOMERS VALUES 
                (1, 'Ramesh', 32, 'Ahmedabad', 2000.00),
                (2, 'Khilan', 25, 'Delhi', 1500.00),
                (3, 'Kaushik', 23, 'Kota', 2000.00),
                (4, 'Chaitali', 25, 'Mumbai', 6500.00),
                (5, 'Hardik', 27, 'Bhopal', 8500.00),
                (6, 'Komal', 22, 'Hyderabad', 4500.00),
                (7, 'Muffy', 24, 'Indore', 10000.00);</pre>
                The table is displayed as:<br>
                <img src="subq1.png" height="30%" width="45%"><br><br>
                Now, let us check the following subquery with a SELECT statement.<br>
                <pre>SELECT * FROM CUSTOMERS 
                    WHERE ID IN (SELECT ID FROM CUSTOMERS WHERE SALARY > 4500);</pre>
                This would produce the following result:<br>
                <img src="subq2.png" height="17%" width="45%">


    </body>
</HTML>